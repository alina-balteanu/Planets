$earthW: 50vmin;
$earthS: calc(#{$earthW}/ 3);

$moonW: calc(#{$earthW}/ 4);
$moonS: calc(#{$moonW}/ 3);
$moonOrbit: calc(#{$earthW * 2});

body {
  background: rgb(10, 5, 32);
  height: 100vh;
  width: 100vw;
  display: flex;
  align-items: center;
  justify-content: center;

  .earth {
    background-image: url(../img/earthnight2.jpg);
    background-size: calc(#{$earthW}* 2) $earthW;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 10;
    width: $earthW;
    height: $earthW;
    margin: auto;
    border-radius: 50%;
    box-shadow: calc(#{$earthS}/ 2) 0 $earthS rgba(#000, 0.8) inset,
      calc(#{$earthS} * -0.1) 0 calc(#{$earthS} / 3) rgba(#fff, 0.7) inset;
    animation: spinCounterClockwise 10s linear infinite;
  }

  .moon {
    background-image: url(../img/cheese1.jpg);
    background-size: $moonW;
    position: absolute;
    z-index: 11;
    width: $moonW;
    height: $moonW;
    margin: auto;
    border-radius: 50%;
    box-shadow: $moonS 0 calc(#{$moonS}* 2) rgba(#000, 1) inset,
      calc(#{$moonS} * -0.1) 0 calc(#{$moonS} / 3) rgba(#fff, 0.7) inset;

    transform: translatex(calc(#{$earthW} - #{$moonW})) translatey($moonW);

    animation: moonOrbit 15s ease-in-out infinite,
      spinClockwise 15s linear infinite;
  }
}

@keyframes spinCounterClockwise {
  from {
    background-position-x: 0;
  }
  to {
    background-position-x: calc(#{$earthW}* 2);
  }
}
@keyframes spinClockwise {
  from {
    background-position-x: 0;
  }
  to {
    background-position-x: calc(#{$moonW}* -4);
  }
}

@keyframes moonOrbit {
  49% {
    z-index: 11;
  }
  50% {
    transform: translatex(calc((#{$earthW}* -1) + #{$moonW}))
      translatey(calc(#{$moonW}* -1));
    z-index: 0;
  }

  100% {
    transform: translatex(calc(#{$earthW} - #{$moonW})) translatey($moonW);
    z-index: 11;
  }
}
